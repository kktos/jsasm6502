// lookup tables

const op6502 = {
	'ADC': [  -1,  -1,0x69,0x6d,0x7d,0x79,0x65,0x75,  -1,  -1,0x61,0x71,  -1],
	'AND': [  -1,  -1,0x29,0x2d,0x3d,0x39,0x25,0x35,  -1,  -1,0x21,0x31,  -1],
	'ASL': [  -1,0x0a,  -1,0x0e,0x1e,  -1,0x06,0x16,  -1,  -1,  -1,  -1,  -1],
	'BCC': [  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,0x90],
	'BCS': [  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,0xb0],
	'BEQ': [  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,0xf0],
	'BIT': [  -1,  -1,  -1,0x2c,  -1,  -1,0x24,  -1,  -1,  -1,  -1,  -1,  -1],
	'BMI': [  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,0x30],
	'BNE': [  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,0xd0],
	'BPL': [  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,0x10],
	'BRK': [0x00,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'BVC': [  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,0x50],
	'BVS': [  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,0x70],
	'CLC': [0x18,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'CLD': [0xd8,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'CLI': [0x58,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'CLV': [0xb8,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'CMP': [  -1,  -1,0xc9,0xcd,0xdd,0xd9,0xc5,0xd5,  -1,  -1,0xc1,0xd1,  -1],
	'CPX': [  -1,  -1,0xe0,0xec,  -1,  -1,0xe4,  -1,  -1,  -1,  -1,  -1,  -1],
	'CPY': [  -1,  -1,0xc0,0xcc,  -1,  -1,0xc4,  -1,  -1,  -1,  -1,  -1,  -1],
	'DEC': [  -1,  -1,  -1,0xce,0xde,  -1,0xc6,0xd6,  -1,  -1,  -1,  -1,  -1],
	'DEX': [0xca,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'DEY': [0x88,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'EOR': [  -1,  -1,0x49,0x4d,0x5d,0x59,0x45,0x55,  -1,  -1,0x41,0x51,  -1],
	'INC': [  -1,  -1,  -1,0xee,0xfe,  -1,0xe6,0xf6,  -1,  -1,  -1,  -1,  -1],
	'INX': [0xe8,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'INY': [0xc8,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'JMP': [  -1,  -1,  -1,0x4c,  -1,  -1,  -1,  -1,  -1,0x6c,  -1,  -1,  -1],
	'JSR': [  -1,  -1,  -1,0x20,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'LDA': [  -1,  -1,0xa9,0xad,0xbd,0xb9,0xa5,0xb5,  -1,  -1,0xa1,0xb1,  -1],
	'LDX': [  -1,  -1,0xa2,0xae,  -1,0xbe,0xa6,  -1,0xb6,  -1,  -1,  -1,  -1],
	'LDY': [  -1,  -1,0xa0,0xac,0xbc,  -1,0xa4,0xb4,  -1,  -1,  -1,  -1,  -1],
	'LSR': [  -1,0x4a,  -1,0x4e,0x5e,  -1,0x46,0x56,  -1,  -1,  -1,  -1,  -1],
	'NOP': [0xea,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'ORA': [  -1,  -1,0x09,0x0d,0x1d,0x19,0x05,0x15,  -1,  -1,0x01,0x11,  -1],
	'PHA': [0x48,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'PHP': [0x08,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'PLA': [0x68,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'PLP': [0x28,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'ROL': [  -1,0x2a,  -1,0x2e,0x3e,  -1,0x26,0x36,  -1,  -1,  -1,  -1,  -1],
	'ROR': [  -1,0x6a,  -1,0x6e,0x7e,  -1,0x66,0x76,  -1,  -1,  -1,  -1,  -1],
	'RTI': [0x40,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'RTS': [0x60,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'SBC': [  -1,  -1,0xe9,0xed,0xfd,0xf9,0xe5,0xf5,  -1,  -1,0xe1,0xf1,  -1],
	'SEC': [0x38,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'SED': [0xf8,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'SEI': [0x78,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'STA': [  -1,  -1,  -1,0x8d,0x9d,0x99,0x85,0x95,  -1,  -1,0x81,0x91,  -1],
	'STX': [  -1,  -1,  -1,0x8e,  -1, -18,0x86,  -1,0x96,  -1,  -1,  -1,  -1],
	'STY': [  -1,  -1,  -1,0x8c, -17,  -1,0x84,0x94,  -1,  -1,  -1,  -1,  -1],
	'TAX': [0xaa,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'TAY': [0xa8,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'TSX': [0xba,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'TXA': [0x8a,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'TXS': [0x9a,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'TYA': [0x98,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1]
};

const op65x02 = {
	'ALR': [  -1,  -1,0x4b,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'ANC': [  -1,  -1,0x0b,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'ANC2':[  -1,  -1,0x2b,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'ANE': [  -1,  -1,0x8b,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'ARR': [  -1,  -1,0x6b,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'DCP': [  -1,  -1,  -1,0xcf,0xdf,0xdb,0xc7,0xd7,  -1,  -1,0xc3,0xd3,  -1],
	'ISC': [  -1,  -1,  -1,0xef,0xff,0xfb,0xe7,0xf7,  -1,  -1,0xe3,0xf3,  -1],
	'LAS': [  -1,  -1,  -1,  -1,  -1,0xbb,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'LAX': [  -1,  -1,0xab,0xaf,  -1,0xbf,0xa7,  -1,0xb7,  -1,0xa3,0xb3,  -1],
	'LXA': [  -1,  -1,0xab,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'NOP': [0xea,  -1,0x80,0x0c,0x1c,  -1,0x04,0x14,  -1,  -1,  -1,  -1,  -1],
	'RLA': [  -1,  -1,  -1,0x2f,0x3f,0x3b,0x27,0x37,  -1,  -1,0x23,0x33,  -1],
	'RRA': [  -1,  -1,  -1,0x6f,0x7f,0x7b,0x67,0x77,  -1,  -1,0x63,0x73,  -1],
	'SAX': [  -1,  -1,  -1,0x8f,  -1,  -1,0x87,  -1,0x97,  -1,0x83,  -1,  -1],
	'USBC':[  -1,  -1,0xeb,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'SBX': [  -1,  -1,0xcb,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'SHA': [  -1,  -1,  -1,  -1,  -1,0x9f,  -1,  -1,  -1,  -1,  -1,0x93,  -1],
	'SHX': [  -1,  -1,  -1,  -1,  -1,0x9e,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'SHY': [  -1,  -1,  -1,  -1,0x9c,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'SLO': [  -1,  -1,  -1,0x0f,0x1f,0x1b,0x07,0x17,  -1,  -1,0x03,0x13,  -1],
	'SRE': [  -1,  -1,  -1,0x4f,0x5f,0x5b,0x47,0x57,  -1,  -1,0x43,0x53,  -1],
	'TAS': [  -1,  -1,  -1,  -1,  -1,0x9b,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'JAM': [0x02,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'DOP': [  -1,  -1,0x80,  -1,  -1,  -1,0x04,0x14,  -1,  -1,  -1,  -1,  -1],
	'TOP': [  -1,  -1,  -1,0x0c,0x1c,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1]
};

const op65c02 = {
	'BRA': [  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,0x80],
	'STZ': [  -1,  -1,  -1,0x9c,0x9E,  -1,0x64,0x74,  -1,  -1,  -1,  -1,  -1],

	'PHX': [0xDA,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'PLX': [0xFA,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'PHY': [0x5A,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'PLY': [0x7A,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],

	'TRB': [  -1,  -1,  -1,0x1c,  -1,  -1,0x14,  -1,  -1,  -1,  -1,  -1,  -1],
	'TSB': [  -1,  -1,  -1,0x0c,  -1,  -1,0x04,  -1,  -1,  -1,  -1,  -1,  -1],

	'BBR': [  -1,  -1,  -1,  -1,  -1,  -1,0x00,  -1,  -1,  -1,  -1,  -1,  -1],
	'BBS': [  -1,  -1,  -1,  -1,  -1,  -1,0x00,  -1,  -1,  -1,  -1,  -1,  -1],
	'RMB': [  -1,  -1,  -1,  -1,  -1,  -1,0x00,  -1,  -1,  -1,  -1,  -1,  -1],
	'SMB': [  -1,  -1,  -1,  -1,  -1,  -1,0x00,  -1,  -1,  -1,  -1,  -1,  -1],

	'INA': [0x1a,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],
	'DEA': [0x3a,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1,  -1],

	'BIT': [  -1,  -1,0x89,0x2c,0x3c,  -1,0x24,0x34,  -1,  -1,  -1,  -1,  -1],

	'ADC': [  -1,  -1,0x69,0x6d,0x7d,0x79,0x65,0x75,  -1,0x72,0x61,0x71,  -1],
	'AND': [  -1,  -1,0x29,0x2d,0x3d,0x39,0x25,0x35,  -1,0x32,0x21,0x31,  -1],
	'CMP': [  -1,  -1,0xc9,0xcd,0xdd,0xd9,0xc5,0xd5,  -1,0xd2,0xc1,0xd1,  -1],
	'EOR': [  -1,  -1,0x49,0x4d,0x5d,0x59,0x45,0x55,  -1,0x52,0x41,0x51,  -1],
	'ORA': [  -1,  -1,0x09,0x0d,0x1d,0x19,0x05,0x15,  -1,0x12,0x01,0x11,  -1],
	'SBC': [  -1,  -1,0xe9,0xed,0xfd,0xf9,0xe5,0xf5,  -1,0xf2,0xe1,0xf1,  -1],
	'STA': [  -1,  -1,  -1,0x8d,0x9d,0x99,0x85,0x95,  -1,0x92,0x81,0x91,  -1],
	'LDA': [  -1,  -1,0xa9,0xad,0xbd,0xb9,0xa5,0xb5,  -1,0xb2,0xa1,0xb1,  -1],

	'JMP': [  -1,  -1,  -1,0x4c,  -1,  -1,  -1,  -1,  -1,0x6c,  -1,  -1,  -1,0x7c],

};

/*
	BBR, BBS, RMB, SMB
	Rockwell added these first, for their microcontrollers that had I/O in ZP.  WDC added them in
	the early 1990's.  The Aug '92 data sheet shows the W65C02S available without them, and
	the W65C02SB with them, but said eventually they would all have them, and be labeled
	W65C02S, without the B.  By the July '96 data sheet, these instructions were standard
	in all of them.
*/
const op65c02s = {
	// BBR  ZP       0F-7F [1]   Branch if specified Bit is Reset. ‾⌉ These are most useful
	// BBS  ZP       8F-FF [1]   Branch if specified Bit is Set.    | when I/O is in ZP.  They
	// RMB  ZP       07-77 [1]   Reset specified Memory Bit.        | are on WDC & Rockwell but
	// SMB  ZP       87-F7 [1]   Set specified Memory Bit.         _⌋ not GTE/CMD or Synertek.
};

const instrSynonyms = {
	'ASO': 'SLO',
	'LSE': 'SRE',
	'AXS': 'SAX',
	'AAX': 'SAX',
	'DCM': 'DCP',
	'ISB': 'ISC',
	'INS': 'ISC',
	'LAR': 'LAS',
	'LAE': 'LAS',
	'SHS': 'TAS',
	'XAS': 'TAS',
	'AXA': 'SHA',
	'AHX': 'SHA',
	'SAY': 'SHY',
	'SYA': 'SHY',
	'ASR': 'ALR',
	'XAA': 'ANE',
	'ATX': 'LAX',
	'HLT': 'JAM',
	'KIL': 'JAM',
	'SKB': 'DOP',
	'SKW': 'TOP'
};

export const steptab = [1,1,2,3,3,3,2,2,2,3,2,2,2,3];

export const ADDRMODE = {
	"IMP": 0,
	"ACC": 1,
	"IMM": 2,
	"ABS": 3,
	"ABX": 4,
	"ABY": 5,
	"ZPG": 6,
	"ZPX": 7,
	"ZPY": 8,
	"IND": 9,
	"INX": 10,
	"INY": 11,
	"REL": 12,

	// 65c02
	"ABINX": 13
};

export const cpu6502= {
	opcodes: op6502
};
export const cpu65x02= {
	opcodes: {...op6502, ...op65x02}
};
export const cpu65c02= {
	opcodes: { ...op6502, ...op65c02 }
};
